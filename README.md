# 摘要
课后学习是大学学习中很重要的一部分。在课堂上，由于时间所限，老师可能有一些遗漏的地方，而学生当场往往无法很好地理会老师的意思，在课后又苦于没有合适的平台来进行课后复习与资料下载，学生和老师之间缺乏**沟通交流、答疑解惑、共享资料**的平台。从这一需求出发，结合新兴的Node.js技术，为华师师生提供一个课程网站平台**eCourse**。

# 引言
1. 前端发展的历史及趋势
    1. Web1.0时期
        Web前端开发是从网页制作演变而来的。在Web1.0时期，网站都是静态的纯内容展示，用户使用网站的行为也以浏览为主，可以拆分为以下过程：后端收到浏览器的请求，生成静态页面，再将静态页面发送到浏览器。在这一时期，前后端开发是一体的，前端代码是后端代码的一部分。
        而这一时期的网站开发，采用的是后端MVC模式，分为以下三层：
        
        * Model（模型层）：提供、保存数据。
        * Controller（控制层）：数据处理，实现业务逻辑。
        * View（视图层）：展示数据，提供用户数据。
        
        此时前端只是后端MVC中的View（视图层），前端工程师实际上是模板工程师，负责编写页面模板。后端代码读取模板，替换变量，从而渲染出页面。
        
    2. Web2.0时期
        后来AJAX技术改变了这一状态，并促成了Web2.0时代的到来。AJAX（Asynchronous Javascript And XML，异步JavaScript和XML）是一种创建交互式网页应用的网页开发技术，通过在后台与服务器进行少量数据交换，可以使网页实现异步刷新，这意味着可以在不加在整个网页的情况下对某部分进行更新。2004年的Gmail和2005年的Google地图使这一技术广泛为开发者所熟知，此时前端不再是后端的模板，而是可以独立得到各种数据。
        在这一时期，网站不再是单纯的静态内容展示，而是动态页面，富交互，并且需要前端进行数据处理。从这时起，前端工程师的工作变得比之前复杂许多，不再像之前一样只需要提供模板交由后端渲染，还需要通过AJAX得到数据、保存数据、进行数据处理并生成视图。
        这一改变也导致了前端MVC框架的诞生，如被广泛使用的Backbone.js将前端代码分为Model（管理数据）和View（展现数据）两个基本部分，去掉了Controller部分，因为前端Controller不需要也不应该处理业务逻辑，只需要处理UI逻辑来响应用户的操作即可。同时前端还可以使用Router（路由），通过URL切换视图。
        另一些框架提出MVVM模式，如Angular.js和Vue.js，用View-Model代替Controller：
        
        * Model
        * View
        * View-Model：简化的Controller，唯一的作用就是为View提供处理好的数据，不含其他逻辑。
        
        这些框架的本质是使用View绑定View-Model，视图与数据模型强耦合。数据的变化实时反应在View上，不需要手动处理。
        此时前端可以做到读写数据、切换视图、用户交互，这意味着网页实际上是一个应用程序（SPA，Single-page Application）。从这以后，前端工程师从开发页面，变成了开发前端应用（跑在浏览器里面的应用程序）。
        
    3. 前后端分离
        前端应用的兴起和智能手机的普及使前端开发方式发生根本的变化，前端不再是后端MVC中的V，而是单独的一层。
        前后端分离以后，它们之间通过接口通信，后端暴露出接口，前端消费后端提供的接口。后端接口一般是REST形式，前后端的通信协议一般是HTTP。
        
    4. Node.js
        2009年，Node.js诞生，它是服务器上的JavaScript运行环境+操作系统API。
        这也意味着，JavaScript与Python和Ruby一样，成为服务器脚本语言，并且JavaScript成为唯一的在浏览器端和服务器端都能运行的语言，更重要的是，前端工程师可以编写后端程序了。
        同时，前端开发模式发生根本改变，前端工程师在Node.js环境下开发，大量使用服务器端工具，并引入持续集成等软件工程的标准流程。前端工程师正在转变为全栈工程师，可以一个人负责前端和后端、从数据库到UI的所有开发。
        
2. Node.js简介
    > Node.js是一个让JavaScript运行在服务器端的平台。它可以让JavaScript脱离服务器的束缚运行在一般的服务器环境下，就像运行Python、Perl、PHP、Ruby程序一样。——《Node.js开发指南》第一章

    Node.js是一个基于Chrome JavaScript运行时（runtime）建立的平台，实际上是对Google V8引擎进行封装，V8号称是目前世界上最快的JavaScript引擎，因而它的执行速度非常快，接近本地代码的执行速度。Node.js使用**单线程、非阻塞I/O（异步式I/O）和事件驱动模型**，因而非常轻量和高效，非常适合在分布式设备上运行数据密集型的实时应用。
    1. 单线程和异步式I/O
        对于高并发的解决方案，传统的架构是多线程模型，也就是为每个业务逻辑提供一个系统线程，通过系统线程切换来弥补同步式I/O调用时的时间开销。Node.js使用的是单线程模型，对于所有I/O都采用异步式的请求方式，避免了频繁的上下文切换，在执行过程中会维护一个时间队列，程序在执行时进入事件循环等待下一个事件到来，每个异步式I/O请求完成后会被推送到事件队列，等待程序进程进行处理。
    2. 事件驱动模型
        Node.js进程在同一时刻只会处理一个事件，完成后立即进入事件循环检查并处理后面的事件，这样做的好处是CPU和内存在同一时间集中处理一件事，同时尽可能让耗时的I/O操作并行执行。对于低速连接攻击，Node.js知识在事件队列中增加请求，等待操作系统的回应，因而不会有任何多线程开销，很大程度上可以提高Web应用的健壮性，防止恶意攻击。
    3. 模块
        Node.js使用Module模块去划分不同的功能，模块中包含了很多功能代码片段，在模块中的代码大部分都是私有的，也就是说模块中定义的函数方法和变量都只能在该模块中被调用，不过可以使用exports对象将某些方法和变量暴露到模块外，供模块外程序调用。
        Node.js使用npm（Node包管理工具）来进行第三方包管理，它是一个完全由JavaScript实现的命令行工具，通过Node.js执行。
        
3. Express框架
    > Express是一个精简的、灵活的Node.js Web程序框架，为构建单页、多页及混合的Web程序提供了一系列健壮的功能特性。——Express网站
    
    Express是目前最稳定、使用最广泛，而且Node.js官方推荐的唯一一个Web开发框架，它除了为http模块提供了更高层的接口外，还实现了路由控制、模板解析、动态视图、中间件支持等功能。
    1. 路由控制
        Express通过解析请求的路径来调用不同的控制器来处理请求，然后访问模板引擎生成HTML页面，最后由控制器将HTML页面返回给浏览器，完成一次请求。
        Express支持REST（Representational State Transfer，表征状态转移）风格的请求方式，它是一种基于HTTP协议的网络应用的接口风格，充分利用HTTP的方法实现统一风格接口的服务。HTTP协议定义了以下8种标准的方法：
        
        * GET：请求获取指定资源。
        * HEAD：请求指定资源的相应头。
        * POST：向指定资源提交数据。
        * PUT：请求服务器存储一个资源。
        * DELETE：请求服务器删除指定资源。
        * TRACE：回显服务器收到的请求，主要用于测试或诊断。
        * CONNECT：HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。
        * OPTIONS：返回服务器支持的HTTP请求方法。
        
        其中经常用到的是GET、POST、PUT和DELETE方法，根据REST设计模式，它们通常用于实现获取、新增、更新、删除4种功能。
    2. 模板引擎
        模板引擎是一个将页面模板和数据结合起来生成HTML的工具。早期的ASP、JSP等模板引擎将功能逻辑嵌入到模板中，运行时动态生成HTML页面，这样会导致功能逻辑与布局样式耦合、逻辑划分困难，不利于网站日后的维护。
        而现代的模板引擎是MVC的一部分，在功能划分上它严格属于视图部分，因此功能以生成HTML页面为核心，不会引入过多的编程语言的功能。在MVC架构中模板引擎包含在服务器端，控制器得到用户请求后从模型获取数据，调用模板引擎。模板引擎将模板和数据结合起来，生成HTML页面，然后返回给控制器，由控制器交回客户端。
    3. 中间件
        > 中间件（Middleware） 是一个函数，它可以访问请求对象（request object (req)）, 响应对象（response object (res)）, 和 web 应用中处于请求-响应循环流程中的中间件，一般被命名为 next 的变量。——Express网站
        
        Express是一个自身功能极简，完全是由路由和中间件构成的一个web开发框架，从本质上说一个Express应用就是在调用各种中间件。
        中间件的功能包括：
        
        * 执行任何代码。
        * 修改请求和响应对象。
        * 终结请求-响应循环。
        * 调用堆栈中的下一个中间件。
        
        如果当前中间件没有终结请求-响应循环，则必须调用 next() 方法将控制权交给下一个中间件，否则请求就会挂起。
        
4. MongoDB数据库
    > NoSQL（Not Only SQL，非关系数据库）数据库在某种程度上比关系型数据库有优势，几乎是专为Node.js设计的。两种最流行的NoSQL数据库是文档数据库和键—值数据库。文档数据库善于存储对象，这使得它们非常适合Node.js和JavaScript。键—值数据库如其名所示，极其简单，对于数据模式可以轻松映射到键—值对的程序来说是很好的选择。文档数据库代表了关系型数据库的限制和键—值数据库的简单性两者之间的最佳折中。——《Node与Express开发》第十三章
    
    MongoDB是一个基于分布式文件存储的文档数据库，属于NoSQL数据库。它将数据存储为一个文档，数据结构由键值对（key=>value）组成。MongoDB 文档类似于 JSON 对象，字段值可以包含其他文档，数组及文档数组。

# 系统设计
1. 概述

# 系统相关技术分析？

# 系统实现及关键技术

# 参考文献
# 附录（附图）
# 致谢